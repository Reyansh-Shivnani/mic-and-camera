<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>capture microphone audio into buffer</title>
</head>
<body>
<video id="video" autoplay="true" width='640' height='480'></video>
<button onclick="shot();">Take Photo</button>
<canvas id="canvas"  width='640' height='480'></canvas>
<script>
  const video = document.getElementById('video');
  const handleSuccess = function(stream) {
    if (window.URL) {
      video.srcObject = stream;
    } else {
      video.src = stream;
    }
  };

  navigator.mediaDevices.getUserMedia({ audio: false, video: true })
      .then(handleSuccess);
function shot(){
var canvas = document.getElementById('canvas');
var context = canvas.getContext('2d');
// Trigger photo take
	context.drawImage(video, 0, 0, 640, 480);
}
</script>
</body>
</html>